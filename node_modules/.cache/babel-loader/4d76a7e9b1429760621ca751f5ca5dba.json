{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\Bootcamp\\\\Node.js\\\\173\\\\Node\\\\SuproApp\\\\Deploy\\\\Frontend\\\\web\\\\src\\\\component\\\\account\\\\login.js\";\nimport React, { Component } from 'react';\nimport userapi from '../../handler/user';\nimport appconfig from '../../config/app.config.json';\n\nvar login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(login, _Component);\n\n  function login(props) {\n    var _this;\n\n    _classCallCheck(this, login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(login).call(this, props));\n    _this.state = {\n      formdata: {\n        username: '',\n        password: ''\n      },\n      isRequest: false\n    };\n    _this.onSignIn = _this.onSignIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.textChanged = _this.textChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(login, [{\n    key: \"textChanged\",\n    value: function textChanged(e) {\n      var tmp = this.state.formdata;\n      tmp[e.target.name] = e.target.value;\n      this.setState({\n        formdata: tmp\n      });\n    }\n  }, {\n    key: \"onSignIn\",\n    value: function () {\n      var _onSignIn = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  isRequest: true\n                });\n                console.log(\"username : \" + this.state.formdata.username + \", password : \" + this.state.formdata.password);\n                _context.next = 4;\n                return userapi.LoginHandler(this.state.formdata.username, this.state.formdata.password);\n\n              case 4:\n                result = _context.sent;\n\n                if (result.status === 200) {\n                  console.log('Login.js Debugger');\n                  localStorage.setItem(appconfig.secure_key.userdata, JSON.stringify(result.message.userdata));\n                  localStorage.setItem(appconfig.secure_key.token, result.message.token);\n                  console.log(\"userdata from secure_key : \" + localStorage.getItem(appconfig.secure_key.userdata));\n                  console.log(\"token from secure_key : \" + localStorage.getItem(appconfig.secure_key.token));\n                  this.props.history.push('/dashboard');\n                } else {\n                  console.log(result.message);\n                }\n\n                this.setState({\n                  isRequest: false\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function onSignIn() {\n        return _onSignIn.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"login-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-box-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"login-box-msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Sign in to start your session on SuPro APP\"), React.createElement(\"form\", {\n        method: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group has-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"username\",\n        name: \"username\",\n        id: \"username\",\n        placeholder: \"masukkan username\",\n        required: \"\",\n        value: this.state.username,\n        onChange: this.textChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-envelope form-control-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group has-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        placeholder: \"masukkan password\",\n        required: \"\",\n        value: this.state.password,\n        onChange: this.textChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-lock form-control-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: this.state.isRequest,\n        type: \"button\",\n        onClick: this.onSignIn,\n        className: \"btn btn-primary btn-block btn-flat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Sign In\"))))));\n    }\n  }]);\n\n  return login;\n}(Component);\n\nexport default login;","map":{"version":3,"sources":["E:\\Bootcamp\\Node.js\\173\\Node\\SuproApp\\Deploy\\Frontend\\web\\src\\component\\account\\login.js"],"names":["React","Component","userapi","appconfig","login","props","state","formdata","username","password","isRequest","onSignIn","bind","textChanged","e","tmp","target","name","value","setState","console","log","LoginHandler","result","status","localStorage","setItem","secure_key","userdata","JSON","stringify","message","token","getItem","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport userapi from '../../handler/user';\r\nimport appconfig from '../../config/app.config.json';\r\n\r\nclass login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formdata: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      isRequest: false\r\n    };\r\n\r\n    this.onSignIn = this.onSignIn.bind(this);\r\n    this.textChanged = this.textChanged.bind(this);\r\n  }\r\n\r\n  textChanged(e) {\r\n      let tmp = this.state.formdata;\r\n      tmp[e.target.name] = e.target.value;\r\n      this.setState({\r\n          formdata: tmp\r\n      });\r\n  }\r\n\r\n  async onSignIn() {\r\n    this.setState({\r\n      isRequest: true\r\n    });\r\n\r\n    console.log(\"username : \" + this.state.formdata.username + \", password : \" + this.state.formdata.password);\r\n\r\n    let result = await userapi.LoginHandler(this.state.formdata.username, this.state.formdata.password);\r\n\r\n    if(result.status === 200)\r\n    {\r\n      console.log('Login.js Debugger');\r\n\r\n      localStorage.setItem(appconfig.secure_key.userdata, JSON.stringify(result.message.userdata));\r\n      localStorage.setItem(appconfig.secure_key.token, result.message.token);\r\n\r\n      console.log(\"userdata from secure_key : \" + localStorage.getItem(appconfig.secure_key.userdata));\r\n      console.log(\"token from secure_key : \" + localStorage.getItem(appconfig.secure_key.token));\r\n\r\n      this.props.history.push('/dashboard');\r\n    }\r\n    else\r\n    {\r\n      console.log(result.message);\r\n    }\r\n\r\n    this.setState({\r\n      isRequest: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-box\">\r\n        <div className=\"login-box-body\">\r\n              <p className=\"login-box-msg\">Sign in to start your session on SuPro APP</p>\r\n              <form method=\"post\">\r\n                  <div className=\"form-group has-feedback\">\r\n                    <input className=\"form-control\"\r\n                      type=\"username\"\r\n                      name=\"username\"\r\n                      id=\"username\"\r\n                      placeholder=\"masukkan username\"\r\n                      required=\"\"\r\n                      value={this.state.username} \r\n                      onChange={this.textChanged} />\r\n                    <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\r\n                  </div>\r\n                  <div className=\"form-group has-feedback\">\r\n                    <input \r\n                      className=\"form-control\"\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      id=\"password\"\r\n                      placeholder=\"masukkan password\"\r\n                      required=\"\" \r\n                      value={this.state.password} \r\n                      onChange={this.textChanged}\r\n                    />\r\n                    <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-xs-4\">\r\n                      <button disabled={this.state.isRequest} type=\"button\" onClick={this.onSignIn} className=\"btn btn-primary btn-block btn-flat\">Sign In</button>\r\n                    </div>\r\n                  </div>\r\n              </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default login;"]},"metadata":{},"sourceType":"module"}